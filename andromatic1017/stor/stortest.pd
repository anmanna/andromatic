#N canvas 601 78 1920 1016 12;
#X obj 19 14 array define -yrange 0 1 state 10;
#X obj 18 50 array define -yrange 1 4 mode 10;
#X obj 269 45 array set mode;
#X msg 269 20 2 4 4 4 4 3 3 3 3 3;
#X obj 86 139 array get mode;
#X listbox 86 163 22 0 0 0 - - - 0;
#X obj 86 112 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 86 186 unpack f f f f f f f f f f;
#X obj 17 226 <= 2;
#X obj 54 226 <= 2;
#X obj 90 226 <= 2;
#X obj 127 226 <= 2;
#X obj 163 226 <= 2;
#X obj 199 226 <= 2;
#X obj 236 226 <= 2;
#X obj 272 226 <= 2;
#X obj 309 226 <= 2;
#X obj 345 226 <= 2;
#X obj 97 266 pack f f f f f f f f f f;
#X listbox 97 290 20 0 0 0 - - - 0;
#X obj 97 313 array set state;
#X text 19 81 reset 1 \, break 2 \, count 3 \, shift 4;
#X obj 39 353 value shift;
#X msg 40 381 \; shift 1;
#X obj 141 414 value df;
#X msg 146 451 \; df 1;
#X obj 207 364 array get mode 0 1;
#X msg 209 337 bang;
#X obj 207 388 value prevstate;
#X obj 212 415 value tmp;
#X obj 286 439 array size state;
#X obj 286 463 value steps;
#X msg 286 415 bang;
#X obj 215 440 value i;
#X msg 218 466 \; i 0;
#X obj 732 100 route 1 2 3 4;
#X obj 732 130 bang;
#X obj 775 130 bang;
#X obj 817 130 bang;
#X obj 859 130 bang;
#X obj 732 73 array get mode 0 1;
#X obj 732 47 value i;
#X floatatom 853 101 5 0 0 0 - - - 0;
#X obj 733 12 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 541 260 1;
#X obj 453 283 value shift;
#X obj 386 308 value df;
#X msg 453 260 0;
#X msg 386 260 0;
#X obj 541 286 array set state;
#X obj 592 260 value i;
#X obj 454 200 t b b b b;
#X obj 386 332 bang;
#X obj 386 284 t b f;
#X obj 781 205 value df;
#X obj 781 229 == 1;
#X obj 781 259 sel 1;
#X obj 804 345 until;
#X obj 804 315 value steps;
#X obj 804 416 value b;
#X obj 866 416 print b;
#X obj 719 314 expr b - 1;
#X obj 655 346 array get state 0 1;
#X obj 655 419 array set state;
#X obj 706 396 value i;
#X obj 881 205 value i;
#X obj 881 231 array get state 0 1;
#X obj 881 255 value prevstate;
#X obj 659 205 value df;
#X obj 659 258 value shift;
#X obj 744 175 t b b b b;
#X obj 659 282 bang;
#X obj 659 229 t b f;
#X obj 804 390 expr if (b < steps && mode == 4 \, b + 1 \, b);
#X obj 1028 315 value i;
#X obj 1028 339 + 1;
#X obj 1028 363 value b;
#X obj 895 315 value b;
#X obj 895 339 array get mode 0 1;
#X obj 895 363 value mode;
#X obj 781 283 t b b b b;
#X obj 1180 263 == 1;
#X obj 1180 288 sel 1;
#X obj 1256 236 value i;
#X obj 1256 262 array get state 0 1;
#X obj 1256 286 value prevstate;
#X obj 1180 314 value i;
#X obj 1180 367 array get state 0 1;
#X obj 1180 391 != 1;
#X obj 1180 413 array set state;
#X obj 1180 339 t f f;
#X obj 1180 236 value df;
#X obj 1094 236 value df;
#X obj 1094 288 value shift;
#X obj 1157 193 t b b b;
#X obj 1094 312 bang;
#X obj 1094 260 t b f;
#X obj 1245 91 == 1;
#X obj 1245 115 sel 1;
#X obj 1245 63 value shift;
#X obj 1126 115 value prevstate;
#X obj 1384 65 value i;
#X obj 1384 91 array get state 0 1;
#X obj 1384 115 value tmp;
#X obj 1245 140 value prevstate;
#X obj 1245 190 array set state;
#X obj 1296 167 value i;
#X obj 1126 65 value tmp;
#X obj 1256 17 t b b b b;
#X obj 1126 139 bang;
#X obj 1126 89 t b f;
#X obj 1036 470 array get state 0 1;
#X obj 1036 444 value i;
#X obj 1036 494 t b f;
#X obj 805 494 value prevstate;
#X obj 837 569 value df;
#X obj 941 429 t b b;
#X obj 868 641 value i;
#X obj 837 616 t b f;
#X floatatom 961 641 5 0 0 0 - - - 0;
#X obj 837 592 expr i + 1;
#X obj 805 544 t b f;
#X obj 903 37 array get state;
#X listbox 903 61 20 0 0 0 - - - 0;
#X msg 904 10 bang;
#X obj 503 71 f;
#X obj 535 70 + 1;
#X obj 566 71 mod;
#X obj 516 41 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 503 95 5 0 0 0 - - - 0;
#X obj 582 30 t b f;
#X obj 582 2 value steps;
#X obj 583 -22 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 507 120 t b f;
#X msg 450 68 0;
#X obj 805 520 expr if( $f1 != $f2 && $f2 == 0 \, 1 \, 0);
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 10 0;
#X connect 7 3 11 0;
#X connect 7 4 12 0;
#X connect 7 5 13 0;
#X connect 7 6 14 0;
#X connect 7 7 15 0;
#X connect 7 8 16 0;
#X connect 7 9 17 0;
#X connect 8 0 18 0;
#X connect 9 0 18 1;
#X connect 10 0 18 2;
#X connect 11 0 18 3;
#X connect 12 0 18 4;
#X connect 13 0 18 5;
#X connect 14 0 18 6;
#X connect 15 0 18 7;
#X connect 16 0 18 8;
#X connect 17 0 18 9;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 30 0 31 0;
#X connect 32 0 30 0;
#X connect 35 0 36 0;
#X connect 35 1 37 0;
#X connect 35 2 38 0;
#X connect 35 3 39 0;
#X connect 36 0 51 0;
#X connect 37 0 70 0;
#X connect 38 0 94 0;
#X connect 39 0 108 0;
#X connect 40 0 35 0;
#X connect 40 0 42 0;
#X connect 41 0 40 0;
#X connect 43 0 41 0;
#X connect 44 0 49 0;
#X connect 46 0 52 0;
#X connect 47 0 45 0;
#X connect 48 0 53 0;
#X connect 50 0 49 1;
#X connect 51 0 48 0;
#X connect 51 1 47 0;
#X connect 51 2 44 0;
#X connect 51 3 50 0;
#X connect 52 0 116 0;
#X connect 53 0 46 0;
#X connect 53 1 46 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 56 0 80 0;
#X connect 57 0 73 0;
#X connect 58 0 57 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 64 0 63 1;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 68 0 72 0;
#X connect 69 0 71 0;
#X connect 70 0 68 0;
#X connect 70 1 54 0;
#X connect 70 2 64 0;
#X connect 70 3 65 0;
#X connect 71 0 116 0;
#X connect 72 0 69 0;
#X connect 72 1 69 0;
#X connect 73 0 59 0;
#X connect 73 0 60 0;
#X connect 74 0 75 0;
#X connect 75 0 76 0;
#X connect 77 0 78 0;
#X connect 78 0 79 0;
#X connect 80 0 61 0;
#X connect 80 1 58 0;
#X connect 80 2 77 0;
#X connect 80 3 74 0;
#X connect 81 0 82 0;
#X connect 82 0 86 0;
#X connect 83 0 84 0;
#X connect 84 0 85 0;
#X connect 86 0 90 0;
#X connect 87 0 88 0;
#X connect 88 0 89 0;
#X connect 90 0 87 0;
#X connect 90 1 89 1;
#X connect 91 0 81 0;
#X connect 92 0 96 0;
#X connect 93 0 95 0;
#X connect 94 0 92 0;
#X connect 94 1 91 0;
#X connect 94 2 83 0;
#X connect 95 0 116 0;
#X connect 96 0 93 0;
#X connect 96 1 93 0;
#X connect 97 0 98 0;
#X connect 98 0 104 0;
#X connect 99 0 97 0;
#X connect 100 0 109 0;
#X connect 101 0 102 0;
#X connect 102 0 103 0;
#X connect 104 0 105 0;
#X connect 106 0 105 1;
#X connect 107 0 110 0;
#X connect 108 0 107 0;
#X connect 108 1 99 0;
#X connect 108 2 106 0;
#X connect 108 3 101 0;
#X connect 109 0 116 0;
#X connect 110 0 100 0;
#X connect 110 1 100 0;
#X connect 111 0 113 0;
#X connect 112 0 111 0;
#X connect 113 0 135 0;
#X connect 113 1 135 1;
#X connect 114 0 135 0;
#X connect 115 0 120 0;
#X connect 116 0 114 0;
#X connect 116 1 112 0;
#X connect 118 0 117 0;
#X connect 118 1 117 0;
#X connect 118 1 119 0;
#X connect 120 0 118 0;
#X connect 121 0 115 0;
#X connect 121 1 115 0;
#X connect 122 0 123 0;
#X connect 124 0 122 0;
#X connect 125 0 126 0;
#X connect 125 0 129 0;
#X connect 126 0 127 0;
#X connect 127 0 125 1;
#X connect 128 0 125 0;
#X connect 129 0 133 0;
#X connect 130 0 127 0;
#X connect 130 1 127 1;
#X connect 131 0 130 0;
#X connect 132 0 131 0;
#X connect 133 0 43 0;
#X connect 133 1 41 0;
#X connect 134 0 125 0;
#X connect 135 0 121 0;

#N canvas 1914 0 1920 1016 12;
#X obj 149 90 value df;
#X obj 149 114 == 1;
#X obj 149 144 sel 1;
#X obj 410 47 value i;
#X obj 172 230 until;
#X obj 172 200 value steps;
#X obj 172 301 value b;
#X obj 234 301 print b;
#X obj 564 48 value mode;
#X msg 565 25 3;
#X obj 87 199 expr b - 1;
#X obj 23 231 array get state 0 1;
#X obj 23 304 array set state;
#X obj 74 281 value i;
#X obj 475 48 value steps;
#X msg 476 20 5;
#X msg 412 17 0;
#X obj 249 90 value i;
#X obj 249 116 array get state 0 1;
#X obj 249 140 value prevstate;
#X obj 27 90 value df;
#X obj 27 143 value shift;
#X obj 51 14 loadbang;
#X obj 110 38 t b b b b;
#X obj 117 14 inlet;
#X obj 27 167 bang;
#X obj 27 191 outlet;
#X obj 27 114 t b f;
#X text 259 26 shift = 4;
#X obj 172 275 expr if (b < steps && mode == 4 \, b + 1 \, b);
#X obj 405 200 value i;
#X obj 405 224 + 1;
#X obj 405 248 value b;
#X obj 263 200 value b;
#X obj 263 224 array get mode 0 1;
#X obj 263 248 value mode;
#X obj 149 168 t b b b b;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 36 0;
#X connect 4 0 29 0;
#X connect 5 0 4 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 12 1;
#X connect 15 0 14 0;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 27 0;
#X connect 21 0 25 0;
#X connect 22 0 23 0;
#X connect 23 0 20 0;
#X connect 23 1 0 0;
#X connect 23 2 13 0;
#X connect 23 3 17 0;
#X connect 24 0 23 0;
#X connect 25 0 26 0;
#X connect 27 0 21 0;
#X connect 27 1 21 0;
#X connect 29 0 6 0;
#X connect 29 0 7 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 10 0;
#X connect 36 1 5 0;
#X connect 36 2 33 0;
#X connect 36 3 30 0;
